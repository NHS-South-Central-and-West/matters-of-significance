{
  "hash": "af44fbe681f1397d985d36f392ebc84e",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Matters of Significance\nsubtitle: The Misuse & Abuse of P-Values in Analytics\nauthor: Paul Johnson\nbibliography: references.bib\n---\n\n\n\n\n\n##  Why Should We Care? {.center}\n\n- P-values and \"statistical significance\" are widespread in statistics and analytics--but they are controversial.\n- If you have been exposed to these ideas before, you have probably been taught a way of doing things that is now widely discredited.\n- Addressing these issues is difficult because the consensus among experts hasn't filtered through to the teaching.\n\n# The Dreaded P-Value {data-background-color=\"#425563\" data-verticator=\"#E8EDEE\"}\n\nWhat is all the fuss about?\n\n## What is a P-Value? {.center}\n\n- **A p-value is \"the probability under a specified statistical model that a statistical summary of the data (e.g., the sample mean difference between two compared groups) would be equal to or more extreme than its observed value\"** [@wasserstein2016].\n- This definition is technically correct, but what does it really mean? This question is the source of great debate [@schervish1996;  @aschwanden2015; @gelman2016; @greenland2016; @wasserstein2016]!\n- Put simply (but not technically correctly), p-values are a measure of how surprising the observed data would be if the null hypothesis (that no effect exists in the population) is true.\n\n## Regression Example {.center}\n\n::: {#tbl-regression .cell tbl-cap='Linear Regression Results (N = 200)' execution_count=5}\n``` {.python .cell-code}\n# set random seed\nnp.random.seed(42)\n\n# sample size\nN = 200\n\n# generate predictors + noise\nx1, x2, x3, noise = [np.random.normal(size=N) for _ in range(4)]\n\n# outcome with specified effects\ny = 1 + 0.1 * x1 + 0.5 * x2 + 0.01 * x3 + noise\n\n# create dataframe\ndf = pd.DataFrame(dict(y=y, x1=x1, x2=x2, x3=x3))\n\n# fit ols model\nX = sm.add_constant(df[['x1', 'x2', 'x3']])\nlm_results = sm.OLS(df.y, X).fit()\n\n# render regression table\ncreate_regression_table(lm_results)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<div id=\"ljjspgzubk\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#ljjspgzubk table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#ljjspgzubk thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#ljjspgzubk p { margin: 0; padding: 0; }\n #ljjspgzubk .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: 100%; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #ljjspgzubk .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #ljjspgzubk .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #ljjspgzubk .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #ljjspgzubk .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #ljjspgzubk .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #ljjspgzubk .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #ljjspgzubk .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #ljjspgzubk .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #ljjspgzubk .gt_column_spanner_outer:first-child { padding-left: 0; }\n #ljjspgzubk .gt_column_spanner_outer:last-child { padding-right: 0; }\n #ljjspgzubk .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #ljjspgzubk .gt_spanner_row { border-bottom-style: hidden; }\n #ljjspgzubk .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #ljjspgzubk .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }\n #ljjspgzubk .gt_from_md> :first-child { margin-top: 0; }\n #ljjspgzubk .gt_from_md> :last-child { margin-bottom: 0; }\n #ljjspgzubk .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }\n #ljjspgzubk .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }\n #ljjspgzubk .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #ljjspgzubk .gt_row_group_first td { border-top-width: 2px; }\n #ljjspgzubk .gt_row_group_first th { border-top-width: 2px; }\n #ljjspgzubk .gt_striped { background-color: rgba(128,128,128,0.05); }\n #ljjspgzubk .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #ljjspgzubk .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #ljjspgzubk .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #ljjspgzubk .gt_left { text-align: left; }\n #ljjspgzubk .gt_center { text-align: center; }\n #ljjspgzubk .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #ljjspgzubk .gt_font_normal { font-weight: normal; }\n #ljjspgzubk .gt_font_bold { font-weight: bold; }\n #ljjspgzubk .gt_font_italic { font-style: italic; }\n #ljjspgzubk .gt_super { font-size: 65%; }\n #ljjspgzubk .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #ljjspgzubk .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<thead>\n\n<tr class=\"gt_col_headings gt_spanner_row\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"\"></th>\n  <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" scope=\"colgroup\" id=\"Outcome-=-y\">\n    <span class=\"gt_column_spanner\">Outcome = y</span>\n  </th>\n</tr>\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Estimate\">Estimate<br>(95% CI)</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"se\">Std. Error</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"t\">t-statistic</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"p\">p-value</th>\n</tr>\n</thead>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">Intercept</th>\n    <td class=\"gt_row gt_center\">1.03***<br>[0.89, 1.18]</td>\n    <td class=\"gt_row gt_center\">0.07</td>\n    <td class=\"gt_row gt_center\">14.29</td>\n    <td style=\"color: #D93649;font-weight: bold;\" class=\"gt_row gt_center\">0.000</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">x1</th>\n    <td class=\"gt_row gt_center\">0.2*<br>[0.05, 0.35]</td>\n    <td class=\"gt_row gt_center\">0.08</td>\n    <td class=\"gt_row gt_center\">2.55</td>\n    <td style=\"color: #D93649;font-weight: bold;\" class=\"gt_row gt_center\">0.011</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">x2</th>\n    <td class=\"gt_row gt_center\">0.39***<br>[0.25, 0.53]</td>\n    <td class=\"gt_row gt_center\">0.07</td>\n    <td class=\"gt_row gt_center\">5.34</td>\n    <td style=\"color: #D93649;font-weight: bold;\" class=\"gt_row gt_center\">0.000</td>\n  </tr>\n  <tr>\n    <th class=\"gt_row gt_left gt_stub\">x3</th>\n    <td class=\"gt_row gt_center\">0.13<br>[-0.02, 0.27]</td>\n    <td class=\"gt_row gt_center\">0.07</td>\n    <td class=\"gt_row gt_center\">1.75</td>\n    <td style=\"color: #D93649;font-weight: bold;\" class=\"gt_row gt_center\">0.081</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"5\">* p&lt;0.05; ** p&lt;0.01; *** p&lt;0.001</td>\n  </tr>\n\n\n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"5\">R<sup>2</sup>=0.167; Adj. R<sup>2</sup>=0.155</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\n## It is All This Guy's Fault {.center}\n\n![Ronald A. Fisher](assets/images/nerds/fisher.jpg)\n\n## And a Little Bit These Guys {.center}\n\n::: {layout-ncol=2}\n\n![Jerzy Neyman](assets/images/nerds/neyman.jpg)\n\n![Egon Pearson](assets/images/nerds/egon-pearson.png)\n\n:::\n\n## And These Two Didn't Help {.center}\n\n::: {layout-ncol=2}\n\n![Pierre Simon Laplace](assets/images/nerds/laplace.jpg){width=75%}\n\n![Karl Pearson](assets/images/nerds/karl-pearson.jpg)\n\n:::\n\n## A Brief History of P-Values {.center}\n\n- Early uses of significance testing date to the 1700s (Laplace, Arbuthnot), with modern form emerging ~1900s (Pearson, Gosset).\n- Ronald A. Fisher [-@fisher1936] formalized p-value in Statistical Methods for Research Workers, suggesting p=0.05 as a convenient cutoff.\n- Neyman-Pearson [-@neyman1933a; -@neyman1933b] introduced formal hypothesis testing with pre-chosen $\\alpha$ (0.05).\n- Fisher later regretted the use of a rigid threshold like 0.05, but it remains ingrained in practice.\n- **Takeaway:** p-values grew from Fisher’s flexible idea into an oft-rigid threshold, setting the stage for current debates.\n\n## Common Misinterpretations & Misuses {.center}\n\n- P-values and \"statistical significance\" are often misused. Sometimes deliberately.\n- They are often used as proof the effect is real or substantively important.\n- They are often treated as a measure of the strength of the effect, and as the most important piece of evidence in an anylsis.\n- We rarely acknowledge that it can vary from sample to sample and that multiple comparisons can lead to false positives.\n- P-hacking and other such practices can deliberately mislead.\n- Statistical significance encourages a flawed way of thinking.\n- And many, many more [@greenland2016].\n\n# Visualising the Problem {data-background-color=\"#425563\" data-verticator=\"#E8EDEE\"}\n\nUsing simulations to demonstrate issues with p-values\n\n## Simulate P-Value Distributions {.center}\n\n- Simulating 1,000 t-tests on zero effect (null) and 0.2 effect (alt), iteratively increasing sample size.\n- How should we expect p-values for the null and alt to be distributed? And how will sample size influence the distribution?\n\n::: {#simulate-p-values .cell cache='true' output-location='default' execution_count=6}\n``` {.python .cell-code}\nnp.random.seed(42) # set random seed\nn_sims = 1000 # number of simulations\neffects = [0.0, 0.2] # simulated effect sizes\nsample_sizes = [10, 20, 50, 100, 250, 500, 1000] # simulated sample sizes\n\n# simulate p-values\np_values = simulate_pvals(effects, sample_sizes, n_sims)\n```\n:::\n\n\n## P-Value Distributions (n=50) {.center}\n\n::: {#cell-fig-sample-size-50 .cell execution_count=7}\n``` {.python .cell-code}\nfig, ax = plt.subplots(figsize=(8, 6))\n\nsns.histplot(\n    data=p_values.filter(pl.col(\"N\") == 50).to_pandas(),\n    x=\"p\", hue=\"effect\", palette=colors,\n    alpha=0.7,  bins=20, edgecolor=\".3\"\n)\n\nax.axvline(x=0.05, color='#D93649', linestyle='--', linewidth=5)\n\nax.get_legend().set_title(\"Effect Size\")\nplt.ylabel(\"Simulations\")\nplt.xlabel(\"P-Value\")\n\nplt.xlim(0, 1)\nplt.tight_layout()\nplt.show()\n\nreport_metrics(p_values, n=50)\n```\n\n::: {.cell-output .cell-output-display}\n![n = 50 per group, 1000 simulations](index_files/figure-revealjs/fig-sample-size-50-output-1.png){#fig-sample-size-50}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nSimulation Results:\n- Sample Size Per Group: 50\n- Simulations Per Condition: 1000\n- False Positive Rate (H₀): 0.05 (Expected: 0.05)\n- Statistical Power (H₁): 0.18 (Target: 0.8)\n- Mean p-value (H₀ vs H₁): 0.50 vs 0.35\n\n```\n:::\n:::\n\n\n## P-Value Distributions (n=100) {.center}\n\n::: {#cell-fig-sample-size-100 .cell execution_count=8}\n``` {.python .cell-code}\nfig, ax = plt.subplots(figsize=(8, 6))\n\nsns.histplot(\n    data=p_values.filter(pl.col(\"N\") == 100).to_pandas(),\n    x=\"p\", hue=\"effect\", palette=colors,\n    alpha=0.8,  bins=20, edgecolor=\".3\"\n)\n\nax.axvline(x=0.05, color='#D93649', linestyle='--', linewidth=5)\n\nax.get_legend().set_title(\"Effect Size\")\nplt.ylabel(\"Simulations\")\nplt.xlabel(\"P-Value\")\n\nplt.xlim(0, 1)\nplt.tight_layout()\nplt.show()\n\nreport_metrics(p_values, n=100)\n```\n\n::: {.cell-output .cell-output-display}\n![n = 100 per group, 1000 simulations](index_files/figure-revealjs/fig-sample-size-100-output-1.png){#fig-sample-size-100}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nSimulation Results:\n- Sample Size Per Group: 100\n- Simulations Per Condition: 1000\n- False Positive Rate (H₀): 0.05 (Expected: 0.05)\n- Statistical Power (H₁): 0.30 (Target: 0.8)\n- Mean p-value (H₀ vs H₁): 0.50 vs 0.29\n\n```\n:::\n:::\n\n\n## P-Value Distributions (n=500) {.center}\n\n::: {#cell-fig-sample-size-500 .cell execution_count=9}\n``` {.python .cell-code}\nfig, ax = plt.subplots(figsize=(8, 6))\n\nsns.histplot(\n    data=p_values.filter(pl.col(\"N\") == 500).to_pandas(),\n    x=\"p\", hue=\"effect\", palette=colors,\n    alpha=0.7,  bins=20, edgecolor=\"black\"\n)\n\nplt.axvline(x=0.05, color='#D93649', linestyle='--', linewidth=5)\n\nax.get_legend().set_title(\"Effect Size\")\nplt.ylabel(\"Simulations\")\nplt.xlabel(\"P-Value\")\n\nplt.xlim(0, 1)\nplt.tight_layout()\nplt.show()\n\nreport_metrics(p_values, n=500)\n```\n\n::: {.cell-output .cell-output-display}\n![n = 500 per group, 1000 simulations](index_files/figure-revealjs/fig-sample-size-500-output-1.png){#fig-sample-size-500}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nSimulation Results:\n- Sample Size Per Group: 500\n- Simulations Per Condition: 1000\n- False Positive Rate (H₀): 0.05 (Expected: 0.05)\n- Statistical Power (H₁): 0.89 (Target: 0.8)\n- Mean p-value (H₀ vs H₁): 0.51 vs 0.03\n\n```\n:::\n:::\n\n\n<!-- https://stats.andrewheiss.com/hack-your-way/ -->\n\n## Simulate Multiple Comparisons {.center}\n\n- Simulating running 50 tests where there is zero effect.\n- Running the simulation 1,000 times.\n- How often would we observe a \"statistically significant\" effect in at least one test?\n\n::: {#simulate-multiple-comparisons .cell cache='true' output-location='default' execution_count=10}\n``` {.python .cell-code}\nnp.random.seed(42) # set random seed\nn_sims = 1000 # number of simulations\nn_tests = 50 # number of tests per simulation\nalpha = 0.05 # significance threshold\n\n# simulate multiple comparisons\nmultiple_comparisons = simulate_multiple_comparisons(n_tests, n_sims, alpha)\n```\n:::\n\n\n## Multiple Comparison Problems {.center}\n\n::: {#cell-fig-multiple-comparisons .cell execution_count=11}\n``` {.python .cell-code}\nexpected = alpha * n_tests\nfig, ax = plt.subplots(figsize=(8, 6))\n\nsns.histplot(\n    data=multiple_comparisons.to_pandas(), x=\"false_positives\",\n    bins=range(0, 12), color=\"#005EB8\", edgecolor=\"black\"\n)\n\nplt.axvline(x=expected, color='#D93649', linestyle='--', linewidth=5)\n\nplt.xlabel(\"False Positives (p < 0.05)\")\nplt.xticks(range(0, 11, 1))\nplt.legend([f\"Expected ({n_tests} × {alpha} = {expected})\"])\n\nplt.tight_layout()\nplt.show()\n\nreport_multiple_comparisons(multiple_comparisons, n_tests, n_sims, alpha)\n```\n\n::: {.cell-output .cell-output-display}\n![1000 simulations × 50 tests, no true effects](index_files/figure-revealjs/fig-multiple-comparisons-output-1.png){#fig-multiple-comparisons}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\nSimulation Results:\n- Average number of false positives: 2.51\n- Probability of at least one false positive: 92.8%\n- Expected number of false positives: 2.5\n```\n:::\n:::\n\n\n# Solutions to a Significant Problem {data-background-color=\"#425563\" data-verticator=\"#E8EDEE\"}\n\nRecommendations for using p-values\n\n## Focus on Measuring Effect Sizes {.center}\n\n- Any analysis should focus on the magnitude and direction of the effect above all else.\n- The effect estimates are the part of the model that matters, and everything else, including p-values, is there to help measure model fit and identify potential issues.\n- This approach is rooted in the idea that the size of the effect is the bit that is directly grounded in the model's context.\n- A p-value doesn't tell us anything about the outcome we are studying. The effect size does.\n\n## Diagnostic (or Descriptive) P-Values {.center}\n\n- P-values do not tell you whether the results of your analysis are real, correct, or substantively important. But I don't think p-values should be dismissed entirely.\n- Instead, we should use p-values as a tool for checking if we have enough data to observe the effect we are studying.\n    - We are capable of asking questions and designing analyses where the effect will not be zero [@gelman2021].\n    - If we start by assuming there _is_ an effect, p-values tell us whether we have enough data to observe that effect.\n- Additionally, I think there is still value in using p-values as a quick check to identify whether two groups are different, or other similar descriptive questions, but p-values themselves are not a causal measure.\n\n## Same Effect, Different Sample Sizes {.center}\n\n::: {#tbl-p-values .cell tbl-cap='Proportion of Non-Significant Results (p > 0.05)' execution_count=12}\n``` {.python .cell-code}\nsummary = (\n    p_values\n    .filter(pl.col(\"effect\") == \"0.2\")\n    .with_columns((pl.col(\"p\") > 0.05).alias(\"non_sig\"))\n    .group_by(\"N\")\n    .agg([\n        pl.col(\"non_sig\").sum().alias(\"non_sig_count\"),\n        pl.len().alias(\"total\")\n    ])\n    .with_columns(\n        (pl.col(\"non_sig_count\") /\n        pl.col(\"total\")).alias(\"rejection_rate\")\n    )\n    .select([\"N\", \"non_sig_count\", \"rejection_rate\"])\n    .sort(\"N\")\n)\n\nformat_power_table(summary)\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<div id=\"qzxifypuuk\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>\n#qzxifypuuk table {\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n#qzxifypuuk thead, tbody, tfoot, tr, td, th { border-style: none; }\n tr { background-color: transparent; }\n#qzxifypuuk p { margin: 0; padding: 0; }\n #qzxifypuuk .gt_table { display: table; border-collapse: collapse; line-height: normal; margin-left: auto; margin-right: auto; color: #333333; font-size: 16px; font-weight: normal; font-style: normal; background-color: #FFFFFF; width: 100%; border-top-style: solid; border-top-width: 2px; border-top-color: #A8A8A8; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #A8A8A8; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; }\n #qzxifypuuk .gt_caption { padding-top: 4px; padding-bottom: 4px; }\n #qzxifypuuk .gt_title { color: #333333; font-size: 125%; font-weight: initial; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; border-bottom-color: #FFFFFF; border-bottom-width: 0; }\n #qzxifypuuk .gt_subtitle { color: #333333; font-size: 85%; font-weight: initial; padding-top: 3px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; border-top-color: #FFFFFF; border-top-width: 0; }\n #qzxifypuuk .gt_heading { background-color: #FFFFFF; text-align: center; border-bottom-color: #FFFFFF; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #qzxifypuuk .gt_bottom_border { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #qzxifypuuk .gt_col_headings { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; }\n #qzxifypuuk .gt_col_heading { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; overflow-x: hidden; }\n #qzxifypuuk .gt_column_spanner_outer { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: normal; text-transform: inherit; padding-top: 0; padding-bottom: 0; padding-left: 4px; padding-right: 4px; }\n #qzxifypuuk .gt_column_spanner_outer:first-child { padding-left: 0; }\n #qzxifypuuk .gt_column_spanner_outer:last-child { padding-right: 0; }\n #qzxifypuuk .gt_column_spanner { border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: bottom; padding-top: 5px; padding-bottom: 5px; overflow-x: hidden; display: inline-block; width: 100%; }\n #qzxifypuuk .gt_spanner_row { border-bottom-style: hidden; }\n #qzxifypuuk .gt_group_heading { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; text-align: left; }\n #qzxifypuuk .gt_empty_group_heading { padding: 0.5px; color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; vertical-align: middle; }\n #qzxifypuuk .gt_from_md> :first-child { margin-top: 0; }\n #qzxifypuuk .gt_from_md> :last-child { margin-bottom: 0; }\n #qzxifypuuk .gt_row { padding-top: 8px; padding-bottom: 8px; padding-left: 5px; padding-right: 5px; margin: 10px; border-top-style: solid; border-top-width: 1px; border-top-color: #D3D3D3; border-left-style: none; border-left-width: 1px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 1px; border-right-color: #D3D3D3; vertical-align: middle; overflow-x: hidden; }\n #qzxifypuuk .gt_stub { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; }\n #qzxifypuuk .gt_stub_row_group { color: #333333; background-color: #FFFFFF; font-size: 100%; font-weight: initial; text-transform: inherit; border-right-style: solid; border-right-width: 2px; border-right-color: #D3D3D3; padding-left: 5px; padding-right: 5px; vertical-align: top; }\n #qzxifypuuk .gt_row_group_first td { border-top-width: 2px; }\n #qzxifypuuk .gt_row_group_first th { border-top-width: 2px; }\n #qzxifypuuk .gt_striped { background-color: rgba(128,128,128,0.05); }\n #qzxifypuuk .gt_table_body { border-top-style: solid; border-top-width: 2px; border-top-color: #D3D3D3; border-bottom-style: solid; border-bottom-width: 2px; border-bottom-color: #D3D3D3; }\n #qzxifypuuk .gt_sourcenotes { color: #333333; background-color: #FFFFFF; border-bottom-style: none; border-bottom-width: 2px; border-bottom-color: #D3D3D3; border-left-style: none; border-left-width: 2px; border-left-color: #D3D3D3; border-right-style: none; border-right-width: 2px; border-right-color: #D3D3D3; }\n #qzxifypuuk .gt_sourcenote { font-size: 90%; padding-top: 4px; padding-bottom: 4px; padding-left: 5px; padding-right: 5px; text-align: left; }\n #qzxifypuuk .gt_left { text-align: left; }\n #qzxifypuuk .gt_center { text-align: center; }\n #qzxifypuuk .gt_right { text-align: right; font-variant-numeric: tabular-nums; }\n #qzxifypuuk .gt_font_normal { font-weight: normal; }\n #qzxifypuuk .gt_font_bold { font-weight: bold; }\n #qzxifypuuk .gt_font_italic { font-style: italic; }\n #qzxifypuuk .gt_super { font-size: 65%; }\n #qzxifypuuk .gt_footnote_marks { font-size: 75%; vertical-align: 0.4em; position: initial; }\n #qzxifypuuk .gt_asterisk { font-size: 100%; vertical-align: 0; }\n \n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n<thead>\n\n<tr class=\"gt_col_headings\">\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"N\">Sample Size</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"non_sig_count\">Rejections</th>\n  <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"rejection_rate\">Proportion</th>\n</tr>\n</thead>\n<tbody class=\"gt_table_body\">\n  <tr>\n    <td class=\"gt_row gt_center\">10</td>\n    <td class=\"gt_row gt_center\">925</td>\n    <td class=\"gt_row gt_center\">0.93</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">20</td>\n    <td class=\"gt_row gt_center\">908</td>\n    <td class=\"gt_row gt_center\">0.91</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">50</td>\n    <td class=\"gt_row gt_center\">817</td>\n    <td class=\"gt_row gt_center\">0.82</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">100</td>\n    <td class=\"gt_row gt_center\">701</td>\n    <td class=\"gt_row gt_center\">0.70</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">250</td>\n    <td class=\"gt_row gt_center\">392</td>\n    <td class=\"gt_row gt_center\">0.39</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">500</td>\n    <td class=\"gt_row gt_center\">113</td>\n    <td class=\"gt_row gt_center\">0.11</td>\n  </tr>\n  <tr>\n    <td class=\"gt_row gt_center\">1000</td>\n    <td class=\"gt_row gt_center\">5</td>\n    <td class=\"gt_row gt_center\">0.01</td>\n  </tr>\n</tbody>\n  <tfoot class=\"gt_sourcenotes\">\n  \n  <tr>\n    <td class=\"gt_sourcenote\" colspan=\"3\">Effect = 0.2, 1000 Simulations</td>\n  </tr>\n\n</tfoot>\n\n</table>\n\n</div>\n        \n```\n:::\n:::\n\n\n## Scrap Statistical Significance {.center}\n\n- While I am less of an evangelist when it comes to p-values, I won't say the same for statistical significance.\n- Using a cutoff point for deciding whether an analysis is useful or not is bad practice.\n- \"The difference between 'significant' and 'not significant' is not itself statistically significant\" [@gelman2006].\n\n# Wrapping Up {data-background-color=\"#425563\" data-verticator=\"#E8EDEE\"}\n\nSummarising what we've learned\n\n## Key Takeaways {.center}\n\n- P-values are a useful tool, but we need to give them significantly less weight in the analysis process.\n- We should scrap statistical significance and focus on measuring effect sizes.\n- P-values and statistical significance was only ever a cheap shortcut, but doing science (or analytics) well is hard. We shouldn't take shortcuts.\n\n## Further Reading {.center}\n\n- Denworth - [The Significant Problem of P-Values](https://www.scientificamerican.com/article/the-significant-problem-of-p-values/)\n- 538's Science Coverage:\n    - Aschwanden - [Not Even Scientists Can Easily Explain P-values](https://fivethirtyeight.com/features/not-even-scientists-can-easily-explain-p-values/)\n    - Aschwanden - [It’s Time To Stop Misusing P-Values](https://fivethirtyeight.com/features/statisticians-found-one-thing-they-can-agree-on-its-time-to-stop-misusing-p-values/)\n    - Aschwanden - [Science Isn't Broken](https://fivethirtyeight.com/features/science-isnt-broken/)\n- Gelman & Loken – [The Garden of Forking Paths](https://sites.stat.columbia.edu/gelman/research/unpublished/forking.pdf)\n- McElreath – [Statistical Rethinking](https://xcelab.net/rm/)\n- [The ASA Statement on P-Values](https://www.tandfonline.com/doi/full/10.1080/00031305.2016.1154108)\n- Gigerenzer – [Mindless Statistics](https://www.ime.usp.br/~abe/lista/pdfVZSdqrML7E.pdf)\n\n## Additional Resources {.center}\n\n- [Hack Your Way to Scientific Glory](https://stats.andrewheiss.com/hack-your-way/)\n- [Visualisations (of Key Concepts in Statistics)](https://rpsychologist.com/viz/)\n\n# Thank You!\n\nContact:\n<br>\n\n<ul >\n{{< fa solid envelope >}} [paul.johnson50@nhs.net](mailto: paul.johnson50@nhs.net)\n</ul>\n\nCode & Slides:\n<br>\n\n<ul >\n{{< fa brands github >}}[/NHS-South-Central-and-West/matters-of-significance](https://github.com/nhs-south-central-and-west/matters-of-significance)\n</ul>\n\n## References\n\n::: {.small}\n::: {#refs}\n:::\n:::\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}